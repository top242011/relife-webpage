"use client";

import React from "react";

interface InteractiveMapProps {
    onProvinceSelect: (provinceId: string) => void;
    selectedProvinceId: string | null;
}

const InteractiveMap: React.FC<InteractiveMapProps> = ({
    onProvinceSelect,
    selectedProvinceId,
}) => {
    // รายชื่อ ID จังหวัดที่พรรคส่งผู้สมัคร (กรุงเทพฯ, ปทุมธานี, ลำปาง)
    const ACTIVE_PROVINCES = ["TH-10", "TH-13", "TH-52"];

    const handleMapClick = (e: React.MouseEvent<SVGSVGElement>) => {
        const target = e.target as SVGElement;
        const id = target.id;

        // เช็คว่าสิ่งที่คลิกคือจังหวัดเป้าหมายหรือไม่
        if (target.tagName === "path" && ACTIVE_PROVINCES.includes(id)) {
            onProvinceSelect(id);
        }
    };

    return (
        <div className="relative w-full aspect-[559/1024] max-w-[600px] mx-auto">
            {/* CSS Control: หัวใจสำคัญอยู่ที่นี่ */}
            <style jsx>{`
        /* 1. จังหวัดทั่วไป (Inactive) - สีเทาอ่อน ห้ามกด */
        svg path {
          fill: #e2e8f0; /* Gray-200 */
          stroke: #ffffff;
          stroke-width: 1px;
          pointer-events: none; /* ปิดการคลิก */
        }

        /* 2. จังหวัดเป้าหมาย (Active) - สีน้ำเงินหลัก */
        ${ACTIVE_PROVINCES.map(
                (id) => `
          svg path#${id} {
            fill: #073f8a; /* Relife Blue */
            cursor: pointer;
            pointer-events: auto; /* เปิดให้คลิกได้ */
            transition: all 0.3s ease;
          }
          /* Hover จังหวัดเป้าหมาย */
          svg path#${id}:hover {
            fill: #f9d100; /* Relife Yellow */
            transform: scale(1.01); /* ขยายเล็กน้อยให้ดูมีมิติ */
          }
        `
            ).join("")}

        /* 3. ทะเลสาบสงขลา (ถ้ามีใน SVG) */
        svg path#TH-LKSG {
          fill: #bae6fd !important;
        }

        /* 4. สถานะ Selected (เมื่อถูกเลือกค้างไว้) */
        ${selectedProvinceId
                    ? `svg path#${selectedProvinceId} { fill: #f9d100 !important; stroke: #073f8a; stroke-width: 2px; }`
                    : ""}
      `}</style>

            {/* SVG Container */}
            <svg
                viewBox="0 0 559.57092 1024.7631"
                className="w-full h-auto drop-shadow-xl"
                onClick={handleMapClick}
                xmlns="http://www.w3.org/2000/svg"
            >
                {/* ตัวอย่าง Path กรุงเทพฯ (TH-10) - จะแสดงเป็นสีน้ำเงินอัตโนมัติ */}
                <path
                    d="m 217.28844,457.46255 0.7,-0.33 2,0.66 0.51,-0.71 0.92,0.42 0.02,0.76 0.97,0.03 0.04,0.41 3.31,0.12 1.17,0.83 1.47,0.08 6.19,-1.38 6.29,-0.59 0,0 -0.52,5.83 -0.26,0.81 -0.69,-0.1 3.08,2.5 -1.91,1.66 -3.67,6.17 0.39,0.25 0,0 -0.12,0.53 -4.77,-1.85 -5.27,-0.12 0.13,1.57 -0.9,2.71 -2.11,-0.72 -0.07,-0.64 -0.79,0.33 -0.52,1.32 -4.51,-1.14 0.54,-1.65 -2.15,-0.97 -0.62,2.33 -0.8,0.2 -0.91,-0.7 -0.28,0.43 -0.19,3.13 0.4,1.56 -0.76,0.26 -1.92,-0.44 -0.75,0.99 -0.34,-0.82 -0.7,0.04 -0.68,3.38 0.54,3.67 0,0 -3.01,0.59 0,0 -0.23,-1.22 1.03,-2.14 -0.14,-1.23 -1.56,0.21 -0.69,-2.14 -0.54,0.19 0.35,-0.35 -0.76,-2.66 -0.99,-0.74 -1.08,-0.06 -0.55,-6.38 0,0 -0.14,-4.58 -0.67,-1.54 0,0 0.72,1.26 8.74,0.44 0.75,0.59 2.05,-0.77 1.01,-0.87 -0.58,-0.31 0.13,-0.52 2.35,-1.71 z"
                    id="TH-10"
                >
                    <title>Krung Thep Maha Nakhon (Bangkok)</title>
                </path>

                {/* ตัวอย่าง Path ปทุมธานี (TH-13) - จะแสดงเป็นสีน้ำเงินอัตโนมัติ */}
                <path
                    d="m 234.82844,437.15255 4.53,-2.12 0.13,2.09 3.94,-2 0,0 -0.37,2.5 -2.14,1.16 -0.01,17.98 0,0 -0.03,1 0,0 -6.29,0.59 -6.19,1.38 -1.47,-0.08 -1.17,-0.83 -3.31,-0.12 -0.04,-0.41 -0.97,-0.03 -0.02,-0.76 -0.92,-0.42 -0.51,0.71 -2,-0.66 -0.7,0.33 0,0 -1.59,-0.44 -0.59,0.75 -2.11,0.56 -2.51,-2.39 -0.6,0.32 -1.64,-1.02 -4.53,-0.73 -2.08,-4.32 0.84,-4.15 0,0 8.99,0.27 2.61,-1.16 2.16,1.09 3.64,-1.53 1.03,0.37 0.29,-1.01 z"
                    id="TH-13"
                >
                    <title>Pathum Thani</title>
                </path>

                {/* ตัวอย่าง Path ลำปาง (TH-52) - จะแสดงเป็นสีน้ำเงินอัตโนมัติ */}
                <path
                    d="m 253.27844,148.40255 2.13,0.92 1.31,1.4 2.26,0.57 -0.13,0.88 -2.07,2.08 0.68,1.55 -1.01,1.03 1.03,1.05 0.39,1.97 1,-0.08 0.75,0.61 -2.05,6.13 0.77,3.26 0.8,0.83 -1.55,2.45 -0.7,-0.44 -1.94,2.6 -0.49,2.01 0.18,1.38 -0.95,0.38 -0.99,1.48 -2.77,0.83 -1.92,1.54 -0.14,0.95 0.97,1.59 -0.08,1.5 -2.14,1.03 -0.4,1.06 0.93,1.37 -1.95,1.65 0.74,1.29 0,0 -0.79,1.96 -1.48,1.07 -2.03,0.29 -1.05,-0.38 -0.3,-0.95 -2.02,0.27 -1.49,2.21 -0.56,1.75 -2.84,1.16 -1.76,2.67 -0.13,1.18 -1.97,1.91 -0.43,1.07 -2.41,0.81 -2.22,2.01 -1.83,0.52 0.17,1.39 -1.17,0.01 -0.94,0.58 -1.08,2.98 -4.55,0.42 -1.1,0.91 -0.89,-1.72 -1.14,0.74 -3.85,-0.24 -0.37,0.63 -2.07,0.58 -1.57,1.09 -2.57,0.14 -0.33,1.25 -1.38,-0.73 -1.69,0.5 -2.7,1.93 -0.1,1.95 1.04,5.09 -4.36,3.59 -0.86,0.18 -1.18,-1.49 -3.5,0.88 -2.26,1.3 -2.39,0.05 -0.45,1.11 -1.65,-0.77 -0.38,-0.78 -0.66,0.81 -0.74,0.1 0,0 -0.42,-1.76 0.59,-1.16 -1.57,-1.09 1.19,-1.01 -1.4,0.25 0.66,-0.71 0.09,-2.05 0.47,-0.57 1.58,-0.22 1.16,-2.46 -0.93,-1.86 0.48,-0.36 -0.52,-0.69 0.62,-0.96 -1.34,-1.41 0.98,-1.17 -0.5,-1.62 0.46,-1.11 -1.01,-0.77 -0.46,-1.29 -3.71,-2.38 1.04,-1.59 -1.06,-1.65 -0.16,-1.33 3.44,-2.5 -0.61,-0.75 0.77,-1.8 -0.87,-3.74 -2.98,-2.69 -0.48,-1.05 0.89,-0.71 -0.24,-0.81 -1.49,-0.8 -0.23,-0.68 0,0 0.95,0.22 1.75,1.47 1.39,0.21 0.39,-1.31 1.13,-0.1 0.88,-0.86 -0.41,-1.56 0.68,0.37 3.26,-1.3 0.82,0.98 4.11,-1.75 0.69,0.11 1.02,-0.66 1.1,-1.63 3.66,-2.2 0.75,-2 1.41,-0.9 1.18,0.62 1.06,-0.32 0.5,1.45 1.33,0.31 0.42,1.64 0.87,1.24 0.67,0.07 1.58,-2.51 -0.63,-4.01 2.84,-2.69 1.48,-0.03 0,0 0.58,0.61 1.42,-0.86 1.82,0.37 0.26,-0.34 3.45,0.13 1.09,0.47 0.46,-1.19 1.58,-0.12 0.35,-0.63 0.77,0.24 1.4,-0.66 3.05,0.78 0.9,-0.24 1.63,1.24 2.21,-0.54 3.01,0.49 2.11,-2.04 0.68,-1.68 2.62,-0.31 0.48,-1.47 1.21,-1.06 -0.24,-1.14 0.79,-1.13 0.45,0.25 1.59,-0.81 -0.49,-1.27 0.14,-1.24 1.16,-1.18 -0.87,-1.15 0.45,-1.14 2.2,-1.59 2.14,-2.99 1.03,0.33 0.43,-0.99 2.08,-1.16 1.47,-1.55 1.16,-0.06 0.8,-1.64 0,0 z"
                    id="TH-52"
                >
                    <title>Lampang</title>
                </path>

                {/* ... (อย่าลืม Paste Code <path> จังหวัดอื่นๆ ที่เหลือทั้งหมดลงที่นี่ เพื่อให้แผนที่สมบูรณ์) ... */}
            </svg>
        </div>
    );
};

export default InteractiveMap;
